<!DOCTYPE html>
<html>
	<head>
		<title>Agar.io clone</title>
		<script src="//cdn.jsdelivr.net/npm/phaser@3.22.0/dist/phaser.min.js"></script>
	</head>
	<body>
	<script type="text/javascript">
		var config = {
	    type: Phaser.AUTO,
	    width: 800,
	    height: 600,
	    physics: {
            default: 'arcade',
            arcade: {
                gravity: { y: 0 },
                debug: false
            }
        },
	    scene: {
	        preload: preload,
	        create: create,
	        update: update
	    }
	};


	function preload ()
	{
	    this.load.image('background', 'assets/background.png');
	    this.load.image('player', 'assets/player.png');
	}

	var game = new Phaser.Game(config);
	var lastClick = new Phaser.Geom.Point(400, 300);
	var mass;
	var cursor;
	var player;

	function create ()
	{
		this.add.image(400, 300, 'background');
		player = this.physics.add.sprite(400, 300, 'player');
		player.setInteractive();
		player.on('pointerdown', stop)
		this.input.on('pointermove', move)
	}

	function move(pointer)
	{
		player.setVelocityX(pointer.x - player.x);
		player.setVelocityY(pointer.y - player.y);
		lastClick.x = pointer.x;
		lastClick.y = pointer.y;
	}

	function update ()
	{
		if(player.x != lastClick.x || player.x != lastClick.y)
		{
			move(lastClick);
		}
	}
	</script>
	</body>
</html>